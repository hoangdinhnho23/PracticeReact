function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{c as K,a as ye}from"./dayjs-C3ukM2nq.js";import{r as L}from"./react-DbK3Pmd6.js";import{c as fe}from"./deepmerge-Cz8BQk8L.js";import{r as rt}from"./memoize-one-CJb0KX4n.js";import{r as _e}from"./react-fast-compare-CWXHrlhI.js";import{p as at}from"./prop-types-BKNjMPK8.js";import{l as ot}from"./load-script-DghppdYS.js";function st(t,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(o,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const nt="modulepreload",it=function(t){return"/movix/"+t},ie={},lt=function(e,r,o){let a=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link");a=Promise.all(r.map(n=>{if(n=it(n),n in ie)return;ie[n]=!0;const l=n.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!o)for(let _=s.length-1;_>=0;_--){const v=s[_];if(v.href===n&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${c}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":nt,l||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),l)return new Promise((_,v)=>{i.addEventListener("load",_),i.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${n}`)))})}))}return a.then(()=>e()).catch(s=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=s,window.dispatchEvent(n),!n.defaultPrevented)throw s})};var pt=Object.create,H=Object.defineProperty,ut=Object.getOwnPropertyDescriptor,ct=Object.getOwnPropertyNames,dt=Object.getPrototypeOf,ht=Object.prototype.hasOwnProperty,yt=(t,e)=>{for(var r in e)H(t,r,{get:e[r],enumerable:!0})},me=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ct(e))!ht.call(t,a)&&a!==r&&H(t,a,{get:()=>e[a],enumerable:!(o=ut(e,a))||o.enumerable});return t},ft=(t,e,r)=>(r=t!=null?pt(dt(t)):{},me(e||!t||!t.__esModule?H(r,"default",{value:t,enumerable:!0}):r,t)),_t=t=>me(H({},"__esModule",{value:!0}),t),Pe={};yt(Pe,{defaultProps:()=>gt,propTypes:()=>Pt});var ge=_t(Pe),mt=ft(at);const{string:h,bool:P,number:O,array:F,oneOfType:A,shape:g,object:m,func:d,node:le}=mt.default,Pt={url:A([h,F,m]),playing:P,loop:P,controls:P,volume:O,muted:P,playbackRate:O,width:A([h,O]),height:A([h,O]),style:m,progressInterval:O,playsinline:P,pip:P,stopOnUnmount:P,light:A([P,h,m]),playIcon:le,previewTabIndex:O,previewAriaLabel:h,fallback:le,oEmbedUrl:h,wrapper:A([h,d,g({render:d.isRequired})]),config:g({soundcloud:g({options:m}),youtube:g({playerVars:m,embedOptions:m,onUnstarted:d}),facebook:g({appId:h,version:h,playerId:h,attributes:m}),dailymotion:g({params:m}),vimeo:g({playerOptions:m,title:h}),mux:g({attributes:m,version:h}),file:g({attributes:m,tracks:F,forceVideo:P,forceAudio:P,forceHLS:P,forceSafariHLS:P,forceDisableHls:P,forceDASH:P,forceFLV:P,hlsOptions:m,hlsVersion:h,dashVersion:h,flvVersion:h}),wistia:g({options:m,playerId:h,customControls:F}),mixcloud:g({options:m}),twitch:g({options:m,playerId:h}),vidyard:g({options:m})}),onReady:d,onStart:d,onPlay:d,onPause:d,onBuffer:d,onBufferEnd:d,onEnded:d,onError:d,onDuration:d,onSeek:d,onPlaybackRateChange:d,onPlaybackQualityChange:d,onProgress:d,onClickPreview:d,onEnablePIP:d,onDisablePIP:d},y=()=>{},gt={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:y},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:y,onStart:y,onPlay:y,onPause:y,onBuffer:y,onBufferEnd:y,onEnded:y,onError:y,onDuration:y,onSeek:y,onPlaybackRateChange:y,onPlaybackQualityChange:y,onProgress:y,onClickPreview:y,onEnablePIP:y,onDisablePIP:y};var vt=Object.create,j=Object.defineProperty,bt=Object.getOwnPropertyDescriptor,wt=Object.getOwnPropertyNames,Ot=Object.getPrototypeOf,Tt=Object.prototype.hasOwnProperty,St=(t,e)=>{for(var r in e)j(t,r,{get:e[r],enumerable:!0})},ve=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of wt(e))!Tt.call(t,a)&&a!==r&&j(t,a,{get:()=>e[a],enumerable:!(o=bt(e,a))||o.enumerable});return t},te=(t,e,r)=>(r=t!=null?vt(Ot(t)):{},ve(e||!t||!t.__esModule?j(r,"default",{value:t,enumerable:!0}):r,t)),Et=t=>ve(j({},"__esModule",{value:!0}),t),be={};St(be,{callPlayer:()=>Bt,getConfig:()=>jt,getSDK:()=>Ht,isBlobUrl:()=>Ft,isMediaStream:()=>Kt,lazy:()=>It,omit:()=>Vt,parseEndTime:()=>kt,parseStartTime:()=>Ut,queryString:()=>xt,randomString:()=>Nt,supportsWebKitPresentationMode:()=>Yt});var V=Et(be),Ct=te(L),Rt=te(ot),At=te(fe);const It=t=>Ct.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),$t=/[?&#](?:start|t)=([0-9hms]+)/,Lt=/[?&#]end=([0-9hms]+)/,G=/(\d+)(h|m|s)/g,Dt=/^\d+$/;function we(t,e){if(t instanceof Array)return;const r=t.match(e);if(r){const o=r[1];if(o.match(G))return Mt(o);if(Dt.test(o))return parseInt(o)}}function Mt(t){let e=0,r=G.exec(t);for(;r!==null;){const[,o,a]=r;a==="h"&&(e+=parseInt(o,10)*60*60),a==="m"&&(e+=parseInt(o,10)*60),a==="s"&&(e+=parseInt(o,10)),r=G.exec(t)}return e}function Ut(t){return we(t,$t)}function kt(t){return we(t,Lt)}function Nt(){return Math.random().toString(36).substr(2,5)}function xt(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function Y(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const T={},Ht=function(e,r,o=null,a=()=>!0,s=Rt.default){const n=Y(r);return n&&a(n)?Promise.resolve(n):new Promise((l,c)=>{if(T[e]){T[e].push({resolve:l,reject:c});return}T[e]=[{resolve:l,reject:c}];const f=i=>{T[e].forEach(_=>_.resolve(i))};if(o){const i=window[o];window[o]=function(){i&&i(),f(Y(r))}}s(e,i=>{i?(T[e].forEach(_=>_.reject(i)),T[e]=null):o||f(Y(r))})})};function jt(t,e){return(0,At.default)(e.config,t.config)}function Vt(t,...e){const r=[].concat(...e),o={},a=Object.keys(t);for(const s of a)r.indexOf(s)===-1&&(o[s]=t[s]);return o}function Bt(t,...e){if(!this.player||!this.player[t]){let r=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c – `;return this.player?this.player[t]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[t](...e)}function Kt(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function Ft(t){return/^blob:/.test(t)}function Yt(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var zt=Object.create,D=Object.defineProperty,Wt=Object.getOwnPropertyDescriptor,Xt=Object.getOwnPropertyNames,Jt=Object.getPrototypeOf,Zt=Object.prototype.hasOwnProperty,qt=(t,e,r)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gt=(t,e)=>{for(var r in e)D(t,r,{get:e[r],enumerable:!0})},Oe=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Xt(e))!Zt.call(t,a)&&a!==r&&D(t,a,{get:()=>e[a],enumerable:!(o=Wt(e,a))||o.enumerable});return t},Te=(t,e,r)=>(r=t!=null?zt(Jt(t)):{},Oe(e||!t||!t.__esModule?D(r,"default",{value:t,enumerable:!0}):r,t)),Qt=t=>Oe(D({},"__esModule",{value:!0}),t),u=(t,e,r)=>(qt(t,typeof e!="symbol"?e+"":e,r),r),Se={};Gt(Se,{default:()=>B});var er=Qt(Se),pe=Te(L),tr=Te(_e),Ee=ge,rr=V;const ar=5e3;let B=class extends pe.Component{constructor(){super(...arguments),u(this,"mounted",!1),u(this,"isReady",!1),u(this,"isPlaying",!1),u(this,"isLoading",!0),u(this,"loadOnReady",null),u(this,"startOnPlay",!0),u(this,"seekOnPlay",null),u(this,"onDurationCalled",!1),u(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),u(this,"getInternalPlayer",e=>this.player?this.player[e]:null),u(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,r=this.getSecondsLoaded(),o=this.getDuration();if(o){const a={playedSeconds:e,played:e/o};r!==null&&(a.loadedSeconds=r,a.loaded=r/o),(a.playedSeconds!==this.prevPlayed||a.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(a),this.prevPlayed=a.playedSeconds,this.prevLoaded=a.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),u(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:r,volume:o,muted:a}=this.props;e(),!a&&o!==null&&this.player.setVolume(o),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):r&&this.player.play(),this.handleDurationCheck()}),u(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:r,playbackRate:o}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&o!==1&&this.player.setPlaybackRate(o),e(),this.startOnPlay=!1),r(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),u(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),u(this,"handleEnded",()=>{const{activePlayer:e,loop:r,onEnded:o}=this.props;e.loopOnEnded&&r&&this.seekTo(0),r||(this.isPlaying=!1,o())}),u(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),u(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),u(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:r,playing:o,volume:a,muted:s,playbackRate:n,pip:l,loop:c,activePlayer:f,disableDeferredLoading:i}=this.props;if(!(0,tr.default)(e.url,r)){if(this.isLoading&&!f.forceLoad&&!i&&!(0,rr.isMediaStream)(r)){console.warn(`ReactPlayer: the attempt to load ${r} is being deferred until the player has loaded`),this.loadOnReady=r;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}!e.playing&&o&&!this.isPlaying&&this.player.play(),e.playing&&!o&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&a!==null&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),a!==null&&setTimeout(()=>this.player.setVolume(a)))),e.playbackRate!==n&&this.player.setPlaybackRate&&this.player.setPlaybackRate(n),e.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,r,o){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},ar));return}if(r?r==="fraction":e>0&&e<1){const s=this.player.getDuration();if(!s){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(s*e,o);return}this.player.seekTo(e,o)}render(){const e=this.props.activePlayer;return e?pe.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}};u(B,"displayName","Player");u(B,"propTypes",Ee.propTypes);u(B,"defaultProps",Ee.defaultProps);var or=Object.create,M=Object.defineProperty,sr=Object.getOwnPropertyDescriptor,nr=Object.getOwnPropertyNames,ir=Object.getPrototypeOf,lr=Object.prototype.hasOwnProperty,pr=(t,e,r)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ur=(t,e)=>{for(var r in e)M(t,r,{get:e[r],enumerable:!0})},Ce=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of nr(e))!lr.call(t,a)&&a!==r&&M(t,a,{get:()=>e[a],enumerable:!(o=sr(e,a))||o.enumerable});return t},U=(t,e,r)=>(r=t!=null?or(ir(t)):{},Ce(e||!t||!t.__esModule?M(r,"default",{value:t,enumerable:!0}):r,t)),cr=t=>Ce(M({},"__esModule",{value:!0}),t),p=(t,e,r)=>(pr(t,typeof e!="symbol"?e+"":e,r),r),Re={};ur(Re,{createReactPlayer:()=>vr});var dr=cr(Re),C=U(L),hr=U(fe),z=U(rt),ue=U(_e),$=ge,Ae=V,yr=U(er);const fr=(0,Ae.lazy)(()=>lt(()=>Promise.resolve().then(()=>ra),void 0)),_r=typeof window<"u"&&window.document&&typeof document<"u",mr=typeof K<"u"&&K.window&&K.window.document,Pr=Object.keys($.propTypes),gr=_r||mr?C.Suspense:()=>null,I=[],vr=(t,e)=>{var r;return r=class extends C.Component{constructor(){super(...arguments),p(this,"state",{showPreview:!!this.props.light}),p(this,"references",{wrapper:o=>{this.wrapper=o},player:o=>{this.player=o}}),p(this,"handleClickPreview",o=>{this.setState({showPreview:!1}),this.props.onClickPreview(o)}),p(this,"showPreview",()=>{this.setState({showPreview:!0})}),p(this,"getDuration",()=>this.player?this.player.getDuration():null),p(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),p(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),p(this,"getInternalPlayer",(o="player")=>this.player?this.player.getInternalPlayer(o):null),p(this,"seekTo",(o,a,s)=>{if(!this.player)return null;this.player.seekTo(o,a,s)}),p(this,"handleReady",()=>{this.props.onReady(this)}),p(this,"getActivePlayer",(0,z.default)(o=>{for(const a of[...I,...t])if(a.canPlay(o))return a;return e||null})),p(this,"getConfig",(0,z.default)((o,a)=>{const{config:s}=this.props;return hr.default.all([$.defaultProps.config,$.defaultProps.config[a]||{},s,s[a]||{}])})),p(this,"getAttributes",(0,z.default)(o=>(0,Ae.omit)(this.props,Pr))),p(this,"renderActivePlayer",o=>{if(!o)return null;const a=this.getActivePlayer(o);if(!a)return null;const s=this.getConfig(o,a.key);return C.default.createElement(yr.default,{...this.props,key:a.key,ref:this.references.player,config:s,activePlayer:a.lazyPlayer||a,onReady:this.handleReady})})}shouldComponentUpdate(o,a){return!(0,ue.default)(this.props,o)||!(0,ue.default)(this.state,a)}componentDidUpdate(o){const{light:a}=this.props;!o.light&&a&&this.setState({showPreview:!0}),o.light&&!a&&this.setState({showPreview:!1})}renderPreview(o){if(!o)return null;const{light:a,playIcon:s,previewTabIndex:n,oEmbedUrl:l,previewAriaLabel:c}=this.props;return C.default.createElement(fr,{url:o,light:a,playIcon:s,previewTabIndex:n,previewAriaLabel:c,oEmbedUrl:l,onClick:this.handleClickPreview})}render(){const{url:o,style:a,width:s,height:n,fallback:l,wrapper:c}=this.props,{showPreview:f}=this.state,i=this.getAttributes(o),_=typeof c=="string"?this.references.wrapper:void 0;return C.default.createElement(c,{ref:_,style:{...a,width:s,height:n},...i},C.default.createElement(gr,{fallback:l},f?this.renderPreview(o):this.renderActivePlayer(o)))}},p(r,"displayName","ReactPlayer"),p(r,"propTypes",$.propTypes),p(r,"defaultProps",$.defaultProps),p(r,"addCustomPlayer",o=>{I.push(o)}),p(r,"removeCustomPlayers",()=>{I.length=0}),p(r,"canPlay",o=>{for(const a of[...I,...t])if(a.canPlay(o))return!0;return!1}),p(r,"canEnablePIP",o=>{for(const a of[...I,...t])if(a.canEnablePIP&&a.canEnablePIP(o))return!0;return!1}),r};var re=Object.defineProperty,br=Object.getOwnPropertyDescriptor,wr=Object.getOwnPropertyNames,Or=Object.prototype.hasOwnProperty,Tr=(t,e)=>{for(var r in e)re(t,r,{get:e[r],enumerable:!0})},Sr=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of wr(e))!Or.call(t,a)&&a!==r&&re(t,a,{get:()=>e[a],enumerable:!(o=br(e,a))||o.enumerable});return t},Er=t=>Sr(re({},"__esModule",{value:!0}),t),Ie={};Tr(Ie,{AUDIO_EXTENSIONS:()=>ae,DASH_EXTENSIONS:()=>Fe,FLV_EXTENSIONS:()=>Ye,HLS_EXTENSIONS:()=>se,MATCH_URL_DAILYMOTION:()=>je,MATCH_URL_FACEBOOK:()=>Me,MATCH_URL_FACEBOOK_WATCH:()=>Ue,MATCH_URL_KALTURA:()=>Ke,MATCH_URL_MIXCLOUD:()=>Ve,MATCH_URL_MUX:()=>De,MATCH_URL_SOUNDCLOUD:()=>$e,MATCH_URL_STREAMABLE:()=>ke,MATCH_URL_TWITCH_CHANNEL:()=>He,MATCH_URL_TWITCH_VIDEO:()=>xe,MATCH_URL_VIDYARD:()=>Be,MATCH_URL_VIMEO:()=>Le,MATCH_URL_WISTIA:()=>Ne,MATCH_URL_YOUTUBE:()=>Q,VIDEO_EXTENSIONS:()=>oe,canPlay:()=>Rr});var Cr=Er(Ie),ce=V;const Q=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,$e=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,Le=/vimeo\.com\/(?!progressive_redirect).+/,De=/stream\.mux\.com\/(\w+)/,Me=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,Ue=/^https?:\/\/fb\.watch\/.+$/,ke=/streamable\.com\/([a-z0-9]+)$/,Ne=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,xe=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,He=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,je=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,Ve=/mixcloud\.com\/([^/]+\/[^/]+)/,Be=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Ke=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,ae=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,oe=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,se=/\.(m3u8)($|\?)/i,Fe=/\.(mpd)($|\?)/i,Ye=/\.(flv)($|\?)/i,ee=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&ee(e)||ee(e.src))return!0;return!1}return(0,ce.isMediaStream)(t)||(0,ce.isBlobUrl)(t)?!0:ae.test(t)||oe.test(t)||se.test(t)||Fe.test(t)||Ye.test(t)},Rr={youtube:t=>t instanceof Array?t.every(e=>Q.test(e)):Q.test(t),soundcloud:t=>$e.test(t)&&!ae.test(t),vimeo:t=>Le.test(t)&&!oe.test(t)&&!se.test(t),mux:t=>De.test(t),facebook:t=>Me.test(t)||Ue.test(t),streamable:t=>ke.test(t),wistia:t=>Ne.test(t),twitch:t=>xe.test(t)||He.test(t),dailymotion:t=>je.test(t),mixcloud:t=>Ve.test(t),vidyard:t=>Be.test(t),kaltura:t=>Ke.test(t),file:ee};var Ar=Object.create,k=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,$r=Object.getOwnPropertyNames,Lr=Object.getPrototypeOf,Dr=Object.prototype.hasOwnProperty,Mr=(t,e,r)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ur=(t,e)=>{for(var r in e)k(t,r,{get:e[r],enumerable:!0})},ze=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of $r(e))!Dr.call(t,a)&&a!==r&&k(t,a,{get:()=>e[a],enumerable:!(o=Ir(e,a))||o.enumerable});return t},kr=(t,e,r)=>(r=t!=null?Ar(Lr(t)):{},ze(e||!t||!t.__esModule?k(r,"default",{value:t,enumerable:!0}):r,t)),Nr=t=>ze(k({},"__esModule",{value:!0}),t),b=(t,e,r)=>(Mr(t,typeof e!="symbol"?e+"":e,r),r),We={};Ur(We,{default:()=>ne});var xr=Nr(We),W=kr(L),S=V,Xe=Cr;const Hr="https://www.youtube.com/iframe_api",de="YT",jr="onYouTubeIframeAPIReady",x=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,X=/user\/([a-zA-Z0-9_-]+)\/?/,Vr=/youtube-nocookie\.com/,Br="https://www.youtube-nocookie.com";class ne extends W.Component{constructor(){super(...arguments),b(this,"callPlayer",S.callPlayer),b(this,"parsePlaylist",e=>{if(e instanceof Array)return{listType:"playlist",playlist:e.map(this.getID).join(",")};if(x.test(e)){const[,r]=e.match(x);return{listType:"playlist",list:r.replace(/^UC/,"UU")}}if(X.test(e)){const[,r]=e.match(X);return{listType:"user_uploads",list:r}}return{}}),b(this,"onStateChange",e=>{const{data:r}=e,{onPlay:o,onPause:a,onBuffer:s,onBufferEnd:n,onEnded:l,onReady:c,loop:f,config:{playerVars:i,onUnstarted:_}}=this.props,{UNSTARTED:v,PLAYING:R,PAUSED:w,BUFFERING:Ge,ENDED:Qe,CUED:et}=window[de].PlayerState;if(r===v&&_(),r===R&&(o(),n()),r===w&&a(),r===Ge&&s(),r===Qe){const tt=!!this.callPlayer("getPlaylist");f&&!tt&&(i.start?this.seekTo(i.start):this.play()),l()}r===et&&c()}),b(this,"mute",()=>{this.callPlayer("mute")}),b(this,"unmute",()=>{this.callPlayer("unMute")}),b(this,"ref",e=>{this.container=e})}componentDidMount(){this.props.onMount&&this.props.onMount(this)}getID(e){return!e||e instanceof Array||x.test(e)?null:e.match(Xe.MATCH_URL_YOUTUBE)[1]}load(e,r){const{playing:o,muted:a,playsinline:s,controls:n,loop:l,config:c,onError:f}=this.props,{playerVars:i,embedOptions:_}=c,v=this.getID(e);if(r){if(x.test(e)||X.test(e)||e instanceof Array){this.player.loadPlaylist(this.parsePlaylist(e));return}this.player.cueVideoById({videoId:v,startSeconds:(0,S.parseStartTime)(e)||i.start,endSeconds:(0,S.parseEndTime)(e)||i.end});return}(0,S.getSDK)(Hr,de,jr,R=>R.loaded).then(R=>{this.container&&(this.player=new R.Player(this.container,{width:"100%",height:"100%",videoId:v,playerVars:{autoplay:o?1:0,mute:a?1:0,controls:n?1:0,start:(0,S.parseStartTime)(e),end:(0,S.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0,...this.parsePlaylist(e),...i},events:{onReady:()=>{l&&this.player.setLoop(!0),this.props.onReady()},onPlaybackRateChange:w=>this.props.onPlaybackRateChange(w.data),onPlaybackQualityChange:w=>this.props.onPlaybackQualityChange(w),onStateChange:this.onStateChange,onError:w=>f(w.data)},host:Vr.test(e)?Br:void 0,..._}))},f),_.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer’s callback props instead, eg onReady, onPlay, onPause")}play(){this.callPlayer("playVideo")}pause(){this.callPlayer("pauseVideo")}stop(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}seekTo(e,r=!1){this.callPlayer("seekTo",e),!r&&!this.props.playing&&this.pause()}setVolume(e){this.callPlayer("setVolume",e*100)}setPlaybackRate(e){this.callPlayer("setPlaybackRate",e)}setLoop(e){this.callPlayer("setLoop",e)}getDuration(){return this.callPlayer("getDuration")}getCurrentTime(){return this.callPlayer("getCurrentTime")}getSecondsLoaded(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}render(){const{display:e}=this.props,r={width:"100%",height:"100%",display:e};return W.default.createElement("div",{style:r},W.default.createElement("div",{ref:this.ref}))}}b(ne,"displayName","YouTube");b(ne,"canPlay",Xe.canPlay.youtube);var Kr=dr.createReactPlayer,he=xr.default,Fr=Kr([{key:"youtube",canPlay:he.canPlay,lazyPlayer:he}]);const ca=ye(Fr);var Yr=Object.create,N=Object.defineProperty,zr=Object.getOwnPropertyDescriptor,Wr=Object.getOwnPropertyNames,Xr=Object.getPrototypeOf,Jr=Object.prototype.hasOwnProperty,Zr=(t,e,r)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qr=(t,e)=>{for(var r in e)N(t,r,{get:e[r],enumerable:!0})},Je=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Wr(e))!Jr.call(t,a)&&a!==r&&N(t,a,{get:()=>e[a],enumerable:!(o=zr(e,a))||o.enumerable});return t},Gr=(t,e,r)=>(r=t!=null?Yr(Xr(t)):{},Je(e||!t||!t.__esModule?N(r,"default",{value:t,enumerable:!0}):r,t)),Qr=t=>Je(N({},"__esModule",{value:!0}),t),J=(t,e,r)=>(Zr(t,typeof e!="symbol"?e+"":e,r),r),Ze={};qr(Ze,{default:()=>ea});var qe=Qr(Ze),E=Gr(L);const Z="64px",q={};class ea extends E.Component{constructor(){super(...arguments),J(this,"mounted",!1),J(this,"state",{image:null}),J(this,"handleKeyPress",e=>{(e.key==="Enter"||e.key===" ")&&this.props.onClick()})}componentDidMount(){this.mounted=!0,this.fetchImage(this.props)}componentDidUpdate(e){const{url:r,light:o}=this.props;(e.url!==r||e.light!==o)&&this.fetchImage(this.props)}componentWillUnmount(){this.mounted=!1}fetchImage({url:e,light:r,oEmbedUrl:o}){if(!E.default.isValidElement(r)){if(typeof r=="string"){this.setState({image:r});return}if(q[e]){this.setState({image:q[e]});return}return this.setState({image:null}),window.fetch(o.replace("{url}",e)).then(a=>a.json()).then(a=>{if(a.thumbnail_url&&this.mounted){const s=a.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");this.setState({image:s}),q[e]=s}})}}render(){const{light:e,onClick:r,playIcon:o,previewTabIndex:a,previewAriaLabel:s}=this.props,{image:n}=this.state,l=E.default.isValidElement(e),c={display:"flex",alignItems:"center",justifyContent:"center"},f={preview:{width:"100%",height:"100%",backgroundImage:n&&!l?`url(${n})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...c},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:Z,width:Z,height:Z,position:l?"absolute":void 0,...c},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},i=E.default.createElement("div",{style:f.shadow,className:"react-player__shadow"},E.default.createElement("div",{style:f.playIcon,className:"react-player__play-icon"}));return E.default.createElement("div",{style:f.preview,className:"react-player__preview",onClick:r,tabIndex:a,onKeyPress:this.handleKeyPress,...s?{"aria-label":s}:{}},l?e:null,o||i)}}const ta=ye(qe),ra=st({__proto__:null,default:ta},[qe]);export{ca as R};
